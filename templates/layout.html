<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>{% block title %}Shichan Study Space{% endblock %}</title>

  <!-- âœ… Content Security Policy -->
  <meta http-equiv="Content-Security-Policy"
        content="default-src 'self'; 
                 script-src 'self' https://cdn.jsdelivr.net 'unsafe-inline'; 
                 style-src 'self' https://cdn.jsdelivr.net 'unsafe-inline'; 
                 img-src 'self' data:; 
                 font-src 'self' https://cdn.jsdelivr.net">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    /* Dynamic background container */
    body {
      transition: background 1s ease-in-out;
      min-height: 100vh;
      background-size: cover;
      background-position: center;
      color: #fff;
    }

    .quiz-card {
      background: rgba(0, 0, 0, 0.6);
      color: #fff;
    }
  </style>

  {% block head %}{% endblock %}
</head>
<body>

  <div class="container py-4">
    {% block content %}{% endblock %}
  </div>

  <!-- Bootstrap JS Bundle -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Dynamic Background Script -->
  <script>
    const backgrounds = [
      "https://images.unsplash.com/photo-1581092580498-4d8d994810ee?auto=format&fit=crop&w=1950&q=80",
      "https://images.unsplash.com/photo-1601582588940-bfe0b91c326e?auto=format&fit=crop&w=1950&q=80",
      "https://images.unsplash.com/photo-1507525428034-b723cf961d3e?auto=format&fit=crop&w=1950&q=80",
      "https://images.unsplash.com/photo-1507525428034-b723cf961d3e?auto=format&fit=crop&w=1950&q=80",
      "https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=1950&q=80"
    ];

    function setRandomBackground() {
      const idx = Math.floor(Math.random() * backgrounds.length);
      document.body.style.backgroundImage = `url('${backgrounds[idx]}')`;
    }

    document.addEventListener("DOMContentLoaded", setRandomBackground);
  </script>

</body>
</html>
