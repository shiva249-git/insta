{% extends "layout.html" %}

{% block title %}Quiz - {{ topic }}{% endblock %}
{% block content %}
<h2>Quiz on {{ topic }} ({{ level }})</h2>

<form method="POST" action="{{ url_for('submit_quiz') }}">
  <!-- CSRF Token -->
  <input type="hidden" name="csrf_token" value="{{ csrf_token }}">

  {% for q in questions %}
    <div class="question">
      <p><strong>Q{{ loop.index }}:</strong> {{ q.question }}</p>
      {% for opt in q.options %}
        <label>
          <input type="radio" name="q{{ loop.parent.index0 }}" value="{{ opt }}" required>
          {{ opt }}
        </label><br>
      {% endfor %}
    </div>
    <hr>
  {% endfor %}

  <button type="submit">Submit Answers</button>
</form>
{% endblock %}
